<main class="container mt-5">
<div class="container">
  <div class="row justify-content-around mb-2">
    {{!-- <div class="col-md-4 text-center mb-3">
      <h4 style="color: rgb(228, 114, 0); margin-left: -175px;"><i class="bi bi-exclamation-diamond-fill"></i> = Under Par</h4>
    </div> --}}
    {{!-- <div class="col-md-4 text-center mb-3">
      <h4 style="color: rgb(241, 227, 76); margin-left: -175px;"><i class="bi bi-exclamation-octagon-fill"></i> = Over Par</h4>
    </div>
    <div class="col-md-4 text-center mb-3">
      <h4 style="color: rgb(0, 255, 13); margin-left: -175px;"><i class="bi bi-check-circle-fill"></i> = On Par</h4>
    </div>
        <div class="col-md-4 text-center mb-3">
      <h4 style="color:rgb(255, 0, 0); margin-left: -175px;"><i class="bi bi-exclamation-triangle-fill"></i><b> = Critical</b></h4>
      <h6 style="color:rgb(252, 252, 252); margin-left: -175px;">(> or < 30% of Par)</or></h6>
    </div> --}}
  </div>
</div>
  {{#if logged_in}}
    <div class="dashboard-background">
      <div class="row">
        {{#each category}}
          <div class="col-md-5 mb-3">
            <div class="card">
              <div class="card-header">
                <h2 class="card-title">
                  <h3>{{category_name}}</h3>
                </h2>
              </div>
              <div class="card-body text-dark post-background adjust-parent">
                {{#each products}}
                  <div class="product mb-3" style="border: 1px solid #ccc; padding: 10px;">
                    <p><h5>{{product_name}}</h5>
                    <h6>Price: ${{price}} / {{unit}}</h6> 
                    <h6>Par: {{par}}</h6>
                    <h6>Stock: {{stock}} <br>
                    <br>
                              <div class="d-flex">
            {{#if (lt stock par)}} 
              <p class="mr-3"><h2 style="color: rgb(228, 0, 0)"><i class="bi bi-exclamation-diamond-fill"></i></h2></p>
            {{/if}}
            {{#if (gt stock par)}} 
              <h2 class="mr-3" style="color:rgb(123, 241, 76)"><i class="bi bi-check-circle-fill"></i></h2>
            {{/if}}
            {{#if (eq stock par)}} 
              <h2 class="mr-3" style="color:rgb(0, 255, 13);"><i class="bi bi-check-circle-fill"></i></h2>
            {{/if}}
            {{#if (critLow par stock)}} 
              <h2 style="color:rgb(255, 0, 0);"><i class="bi bi-exclamation-triangle-fill"></i></h2>
            {{/if}}
            {{!-- {{#if (critHigh par stock)}} 
              <h2 style="color:rgb(255, 0, 0);"><i class="bi bi-exclamation-triangle-fill"></i></h2>
            {{/if}}
            {{#if (withInRange stock par)}} 
              <h2 class="mr-3" style="color:rgb(0, 255, 13);"><i class="bi bi-check-circle"></i></h2>
            {{/if}} --}}
          </div>
                       
                  </div>
    <div class="product" style="border: 1px solid #ccc; padding: 10px;">
     <div class="mb-3">
        <label for="quantity" class="form-label">Stock:</label>
        <div class="input-group">
            <input type="number" id="quantity" min="-64" value="1" max="64" required style="width: 75px;" class="form-control">
            <button type="button" class="btn btn-primary adjust" data-product-id="{{id}}" data-key="stock">Adjust Stock</button>
        </div>
     </div>
     <div class="mb-3">
        <label for="price" class="form-label">Price:</label>
        <div class="input-group">
            <input type="number" id="price" min="-64" value="{{price}}" max="64" required style="width: 75px;" class="form-control">
            <button type="button" class="btn btn-primary adjust" data-product-id="{{id}}" data-key="price">Adjust Price</button>
        </div>
     </div>
     <div class="mb-3">
        <label for="unit" class="form-label">Unit:</label>
        <div class="input-group">
            <input type="text" id="unit" min="-64" value="{{unit}}" max="64" required style="width: 75px;" class="form-control">
            <button type="button" class="btn btn-primary adjust" data-product-id="{{id}}" data-key="unit">Adjust Unit</button>
        </div>
     </div>
     <div class="mb-3">
        <label for="par" class="form-label">Par:</label>
        <div class="input-group">
            <input type="number" id="par" min="-64" value="{{par}}" max="64" required style="width: 75px;" class="form-control">
            <button type="button" class="btn btn-primary adjust" data-product-id="{{id}}" data-key="par">Adjust Par</button>
        </div>
     </div>
{{#if req.session.isManager}}
     <div class="text-end">
        <button type="button" class="btn btn-danger btn-sm mb-3 delete-product" data-product-id="{{id}}">Delete</button>
     </div>
     {{/if}}
    </div>
{{/each}}
</div>
</div>
</div>
{{/each}}
</div>
{{else}}
<div class="col-md-3 mb-3 text-center">
  <p>Please <a class="nav-link" href="/login">Login</a></p>
</div>
{{/if}}
</main>
